import"./style.global.js";import{s as v,c,a as g,i as w,b as f}from"./Verification.js";import{S as x,h as L}from"./SpinnerFullScreen.js";try{const n=v(["#app","#warning-txt","#f-name","#l-name","#username","#email","#pass","#confirm-pass","#signup-btn"]),m=x("Signing Up"),t=n["#signup-btn"],i=n["#f-name"],r=n["#l-name"],l=n["#username"],o=n["#email"],s=n["#pass"],d=n["#confirm-pass"];t.addEventListener("click",p=>{if(p.preventDefault(),t.disabled=!0,t.classList.add("btn-disabled"),n["#warning-txt"].textContent="",i.classList.remove("warning-input"),r.classList.remove("warning-input"),l.classList.remove("warning-input"),o.classList.remove("warning-input"),s.classList.remove("warning-input"),d.classList.remove("warning-input"),!c(i.value)){n["#warning-txt"].textContent="Invalid first name.",i.classList.add("warning-input");return}if(!c(r.value)){n["#warning-txt"].textContent="Invalid last name.",r.classList.add("warning-input");return}if(!g(l.value)){n["#warning-txt"].textContent="Invalid username.",l.classList.add("warning-input");return}if(!w(o.value)){n["#warning-txt"].textContent="Invalid email.",o.classList.add("warning-input");return}if(!f(s.value)){n["#warning-txt"].textContent="Invalid password.",s.classList.add("warning-input");return}if(s.value!==d.value){n["#warning-txt"].textContent="Confirm password doesn't match.",d.classList.add("warning-input");return}n["#app"].appendChild(m),L.post("/signup",{f_name:i.value,l_name:r.value,username:l.value,email:o.value,password:s.value}).then(e=>{t.disabled=!1,t.classList.remove("btn-disabled"),m.remove();const a=e==null?void 0:e.data;a&&(window.location.href="/verify/"+a.result.user_id)}).catch(e=>{var u;const a=(u=e.response)==null?void 0:u.data;a&&(n["#warning-txt"].textContent=(a==null?void 0:a.msg)||""),t.disabled=!1,t.classList.remove("btn-disabled"),m.remove(),console.log(e)})})}catch(n){console.log(n)}
